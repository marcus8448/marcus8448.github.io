{{ define "content-inner" }}
<main class="content-media">
  {{ .Content }}

  <ul class="list">
    {{ with .Site.GetPage "/projects" }}
      {{ range .RegularPages }}
        <li>
          <article class="project">
            {{ if .Params.icon }}
              <a href="{{ .RelPermalink }}" class="icon">
                <img src="{{ .Params.icon }}" alt="{{ .Title | plainify | title }}">
              </a>
            {{ end }}

            <ul class="tools">
              {{ range .Params.tools }}
                <li>
                  {{ $invert := eq (. | lower) "rust" }} <!--to keep formatting nice in HTML class string-->
                  <img src="/icon/{{ . | lower }}.svg" alt="{{ . }} icon" title="{{ . }}" class="{{ if $invert }} invert-dark {{ end }}">
                </li>
              {{ end }}
            </ul>

            <div class="info">
              <h2><a href="{{ .RelPermalink }}">{{ .Title | safeHTML }}</a></h2>
              <time class="text-meta">{{ (replace .Params.timeframe "-" "&#8209;") | safeHTML }}</time>
            </div>
            <p class="description">{{ .Params.Description | .RenderString }}</p>
          </article>
        </li>
      {{ end }}
    {{ end }}
  </ul>
</main>
{{ end }}
